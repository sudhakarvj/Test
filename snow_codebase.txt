<div class="sn-chat-overlay">
  <button class="sn-launcher" ng-click="c.toggleChat()" ng-if="!c.isOpen">
    <div class="launcher-icon"><i class="fa fa-commenting-o"></i></div>
  </button>

  <div class="sn-chat-window" ng-class="{'open': c.isOpen}">
    <div class="sn-chat-header">
      <div class="header-left">
        <div class="header-title">Virtual Agent</div>
        <div class="header-status"><span class="status-indicator"></span> Available</div>
      </div>
      <div class="header-controls">
        <button class="control-btn" ng-click="c.toggleChat()"><i class="fa fa-minus"></i></button>
      </div>
    </div>

    <div class="sn-chat-body" id="sn-chat-body">
      <div class="chat-start-message"><p>Today</p></div>
      <div ng-repeat="msg in c.messages track by $index" class="sn-message-row" ng-class="{'row-user': msg.isUser, 'row-bot': !msg.isUser}">
        <div class="sn-avatar bot-avatar" ng-if="!msg.isUser"><i class="fa fa-desktop"></i></div>
        <div class="sn-bubble">
          <div class="bubble-content">{{msg.text}}</div>
          <div class="bubble-meta">{{msg.time}}</div>
        </div>
        <div class="sn-avatar user-avatar" ng-if="msg.isUser"><i class="fa fa-user"></i></div>
      </div>
      <div class="sn-message-row row-bot" ng-if="c.isTyping">
        <div class="sn-avatar bot-avatar"><i class="fa fa-desktop"></i></div>
        <div class="sn-bubble typing-bubble">
          <div class="typing-dots"><span></span><span></span><span></span></div>
        </div>
      </div>
    </div>

    <div class="sn-chat-footer">
      <div class="input-wrapper">
        <input type="text" id="chatInput" ng-model="c.userMessage" placeholder="Type your message..." ng-keypress="c.checkEnter($event)">
        <button class="send-btn" ng-click="c.sendMessage()" ng-disabled="!c.userMessage"><i class="fa fa-paper-plane"></i></button>
      </div>
    </div>
  </div>
</div>

CSS:
$sn-header-bg: #293e40;
$sn-bg-color: #f6f7fa;
$sn-primary: #1f8476;
$sn-text-dark: #293e40;

.sn-chat-overlay { position: fixed; bottom: 0; right: 0; z-index: 10000; font-family: "Source Sans Pro", sans-serif; }
.sn-launcher { position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px; border-radius: 50%; background: $sn-header-bg; color: white; border: none; box-shadow: 0 4px 12px rgba(0,0,0,0.25); cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 24px; z-index: 10001; }
.sn-chat-window { position: fixed; bottom: 100px; right: 30px; width: 380px; height: 600px; max-height: 80vh; background: $sn-bg-color; border-radius: 12px; box-shadow: 0 8px 30px rgba(0,0,0,0.2); display: flex; flex-direction: column; overflow: hidden; opacity: 0; pointer-events: none; transform: translateY(20px); transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1); }
.sn-chat-window.open { opacity: 1; pointer-events: auto; transform: translateY(0); }
.sn-chat-header { background: $sn-header-bg; color: white; padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; }
.header-title { font-weight: 600; font-size: 16px; }
.header-status { font-size: 11px; opacity: 0.8; }
.status-indicator { width: 8px; height: 8px; background: #57e078; border-radius: 50%; display: inline-block; margin-right: 5px; }
.control-btn { background: transparent; border: none; color: white; opacity: 0.7; cursor: pointer; }
.sn-chat-body { flex: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 15px; scroll-behavior: smooth; }
.chat-start-message { text-align: center; color: #999; font-size: 11px; margin-bottom: 10px; }
.sn-message-row { display: flex; align-items: flex-end; gap: 10px; max-width: 100%; }
.row-user { flex-direction: row; justify-content: flex-end; }
.row-bot { flex-direction: row; justify-content: flex-start; }
.sn-avatar { width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 14px; color: white; flex-shrink: 0; }
.bot-avatar { background: #607d8b; }
.user-avatar { background: $sn-primary; }
.sn-bubble { max-width: 75%; padding: 12px 16px; border-radius: 12px; font-size: 14px; line-height: 1.5; box-shadow: 0 1px 2px rgba(0,0,0,0.05); }
.row-bot .sn-bubble { background: #ffffff; color: $sn-text-dark; border-bottom-left-radius: 2px; }
.row-user .sn-bubble { background: #e1e6ef; color: $sn-text-dark; border-bottom-right-radius: 2px; }
.bubble-meta { font-size: 10px; color: #888; margin-top: 5px; text-align: right; }
.typing-bubble { padding: 15px; }
.typing-dots span { display: inline-block; width: 5px; height: 5px; background: #aaa; border-radius: 50%; margin: 0 2px; animation: sn-bounce 1.4s infinite ease-in-out both; }
.typing-dots span:nth-child(1) { animation-delay: -0.32s; }
.typing-dots span:nth-child(2) { animation-delay: -0.16s; }
@keyframes sn-bounce { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1); } }
.sn-chat-footer { padding: 15px; background: white; border-top: 1px solid #e1e1e1; }
.input-wrapper { display: flex; background: #f1f2f3; border-radius: 25px; padding: 5px 15px; align-items: center; }
.input-wrapper input { flex: 1; border: none; background: transparent; padding: 10px; outline: none; }
.send-btn { border: none; background: transparent; color: $sn-primary; font-size: 16px; cursor: pointer; }

Client Script
api.controller = function($http, $scope, $timeout) {
  var c = this;
  c.isOpen = false;
  c.isTyping = false;
  c.userMessage = '';
  c.messages = [];
  c.sessionId = null;

  function getTime() { return new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }); }
  function scrollToBottom() { $timeout(function() { var b = document.getElementById('sn-chat-body'); if(b) b.scrollTop = b.scrollHeight; }, 100); }

  c.toggleChat = function() { c.isOpen = !c.isOpen; if(c.isOpen) { scrollToBottom(); $timeout(function(){ document.getElementById('chatInput').focus(); }, 300); } };
  c.checkEnter = function(e) { if(e.which === 13) c.sendMessage(); };

  $timeout(function() { c.messages.push({ text: "Hello! I am your Virtual Agent. How can I help you?", isUser: false, time: getTime() }); }, 500);

  c.sendMessage = function() {
    if(!c.userMessage.trim()) return;
    var txt = c.userMessage;
    c.messages.push({ text: txt, isUser: true, time: getTime() });
    c.userMessage = '';
    c.isTyping = true;
    scrollToBottom();

    var payload = { message: txt, session_id: c.sessionId, user_id: c.data.user_sys_id };
    
    // REPLACE WITH YOUR AZURE APP URL
    $http.post('https://YOUR-APP-NAME.azurewebsites.net/chat', payload).then(function(res) {
      c.isTyping = false;
      c.sessionId = res.data.session_id;
      c.messages.push({ text: res.data.response, isUser: false, time: getTime() });
      if(res.data.action_taken === 'incident_created') {
        c.messages.push({ text: "Ticket " + res.data.ticket_number + " created.", isUser: false, time: getTime() });
      }
      scrollToBottom();
    }, function(err) {
      c.isTyping = false;
      c.messages.push({ text: "Connection error.", isUser: false, time: getTime() });
      scrollToBottom();
    });
  };
};
